---
title: "CORS Check"
api: "GET /cors-check"
description: "CORS configuration test endpoint"
---

CORS configuration test endpoint for ALB lb_cookie stickiness verification.

This endpoint helps verify that CORS is properly configured for cross-origin requests with credentials, which is required for AWS ALB sticky sessions. Returns CORS configuration details and request information for debugging.

### Headers

<ParamField header="Authorization" type="string" required>
  API key in format: `Bearer sk-xxxxxx`
</ParamField>

### Response

<ResponseField name="cors_enabled" type="boolean">
  Whether CORS is enabled
</ResponseField>

<ResponseField name="origin" type="string">
  The origin header from the request
</ResponseField>

<ResponseField name="credentials_allowed" type="boolean">
  Whether credentials are allowed
</ResponseField>

<ResponseField name="allowed_origins" type="array">
  List of allowed origins
</ResponseField>

<ResponseField name="allowed_methods" type="array">
  List of allowed HTTP methods
</ResponseField>

<ResponseField name="allowed_headers" type="array">
  List of allowed headers
</ResponseField>

<ResponseField name="request_headers" type="object">
  Headers received in the request (for debugging)
</ResponseField>

<RequestExample>
```bash cURL
curl --request GET \
  --url https://api.mor.org/cors-check \
  --header 'Authorization: Bearer sk-YOUR_API_KEY' \
  --header 'Origin: https://example.com'
```

```javascript JavaScript
const response = await fetch('https://api.mor.org/cors-check', {
  method: 'GET',
  headers: {
    'Authorization': 'Bearer sk-YOUR_API_KEY',
    'Origin': 'https://example.com'
  },
  credentials: 'include'
});

const corsInfo = await response.json();
```

```python Python
import requests

response = requests.get(
    'https://api.mor.org/cors-check',
    headers={
        'Authorization': 'Bearer sk-YOUR_API_KEY',
        'Origin': 'https://example.com'
    }
)

cors_info = response.json()
```
</RequestExample>

<ResponseExample>
```json 200 Response
{
  "cors_enabled": true,
  "origin": "https://example.com",
  "credentials_allowed": true,
  "allowed_origins": ["https://example.com", "https://app.mor.org"],
  "allowed_methods": ["GET", "POST", "PUT", "DELETE", "OPTIONS"],
  "allowed_headers": ["Content-Type", "Authorization"],
  "request_headers": {
    "origin": "https://example.com",
    "user-agent": "Mozilla/5.0...",
    "authorization": "Bearer sk-****"
  }
}
```
</ResponseExample>

<Info>
  **ALB Sticky Sessions**: This endpoint is specifically designed to help debug CORS configuration issues that can affect AWS Application Load Balancer sticky sessions. Sticky sessions require `credentials: 'include'` in fetch requests, which in turn requires proper CORS configuration.
</Info>

<Warning>
  **Cross-Origin Requests**: For the API to work from a web browser with a different origin (domain), your origin must be in the `allowed_origins` list. Contact support if you need to add an origin.
</Warning>

<Tip>
  **Debugging CORS Issues**:
  1. Check that `cors_enabled` is `true`
  2. Verify your origin is in `allowed_origins`
  3. Ensure `credentials_allowed` is `true` if you're using cookies or auth tokens
  4. Confirm the `Access-Control-Allow-*` response headers match your request
</Tip>

<Note>
  **Browser DevTools**: Use your browser's developer tools (Network tab) to inspect CORS-related response headers. Look for `Access-Control-Allow-Origin`, `Access-Control-Allow-Credentials`, etc.
</Note>

<Info>
  **Preflight Requests**: For methods other than GET/POST or when using custom headers, browsers send an OPTIONS preflight request first. The CORS configuration must allow both the preflight and the actual request.
</Info>


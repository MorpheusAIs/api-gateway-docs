---
title: "Update Automation Settings"
api: "PUT /api/v1/automation/settings"
description: "Update automation settings for the authenticated user"
---

Update automation settings for the authenticated user.

Configure whether the gateway should automatically create sessions when making chat completion requests and set the default session duration for auto-created sessions.

### Headers

<ParamField header="Authorization" type="string" required>
  Bearer token (JWT) from OAuth2 login
</ParamField>

### Body

<ParamField body="is_enabled" type="boolean" default={true}>
  Whether to enable automatic session creation
</ParamField>

<ParamField body="session_duration" type="integer" default={3600}>
  Default session duration in seconds for auto-created sessions
</ParamField>

### Response

<ResponseField name="is_enabled" type="boolean">
  Updated automation enabled status
</ResponseField>

<ResponseField name="session_duration" type="integer">
  Updated default session duration
</ResponseField>

<ResponseField name="user_id" type="integer">
  Your user ID
</ResponseField>

<ResponseField name="created_at" type="string">
  ISO 8601 timestamp when settings were first created
</ResponseField>

<ResponseField name="updated_at" type="string">
  ISO 8601 timestamp when settings were last updated
</ResponseField>

<RequestExample>
```bash cURL
curl --request PUT \
  --url https://api.mor.org/api/v1/automation/settings \
  --header 'Authorization: Bearer YOUR_JWT_TOKEN' \
  --header 'Content-Type: application/json' \
  --data '{
    "is_enabled": true,
    "session_duration": 7200
  }'
```

```javascript JavaScript
const response = await fetch(
  'https://api.mor.org/api/v1/automation/settings',
  {
    method: 'PUT',
    headers: {
      'Authorization': 'Bearer YOUR_JWT_TOKEN',
      'Content-Type': 'application/json'
    },
    body: JSON.stringify({
      is_enabled: true,
      session_duration: 7200
    })
  }
);

const updatedSettings = await response.json();
```

```python Python
import requests

response = requests.put(
    'https://api.mor.org/api/v1/automation/settings',
    headers={
        'Authorization': 'Bearer YOUR_JWT_TOKEN',
        'Content-Type': 'application/json'
    },
    json={
        'is_enabled': True,
        'session_duration': 7200
    }
)

updated_settings = response.json()
```
</RequestExample>

<ResponseExample>
```json 200 Response
{
  "is_enabled": true,
  "session_duration": 7200,
  "user_id": 123,
  "created_at": "2024-01-01T00:00:00Z",
  "updated_at": "2024-01-15T10:35:00Z"
}
```

```json 422 Validation Error
{
  "detail": [
    {
      "loc": ["body", "session_duration"],
      "msg": "Input should be a positive integer",
      "type": "int_type"
    }
  ]
}
```
</ResponseExample>

<Info>
  **Automatic Session Creation**: When enabled (`is_enabled: true`), the gateway will automatically create sessions when you make chat completion requests without an active session. This eliminates the need to manually create sessions before each chat request.
</Info>

<Warning>
  **Cost Implications**: Automatic session creation will incur blockchain transaction costs and session fees. Set appropriate session durations to balance convenience with cost efficiency.
</Warning>

<Tip>
  **Session Duration Recommendations**:
  - **Short sessions (1-2 hours)**: For occasional use or testing
  - **Medium sessions (4-8 hours)**: For regular daily use
  - **Long sessions (12-24 hours)**: For continuous or production workloads
</Tip>

<Note>
  **Partial Updates**: You can update just `is_enabled` or just `session_duration` without providing both fields. Omitted fields will retain their current values.
</Note>

<Info>
  **How It Works**: When you make a chat completion request:
  1. Gateway checks if you have an active session
  2. If no session exists and automation is enabled, creates a new session with the configured duration
  3. Uses the session to fulfill your chat request
  4. Returns the chat completion response
</Info>


---
title: "Approve Spending"
api: "POST /api/v1/session/approve"
description: "Approve the contract to spend MOR tokens on your behalf"
---

Approve the contract to spend MOR tokens on your behalf.

Connects to the proxy-router's `/blockchain/approve` endpoint. For creating sessions, approve enough tokens by calculating: `bid_price * session_duration`. Uses the DIAMOND_CONTRACT_ADDRESS environment variable as the spender contract address.

### Headers

<ParamField header="Authorization" type="string" required>
  API key in format: `Bearer sk-xxxxxx`
</ParamField>

### Query Parameters

<ParamField query="amount" type="integer" required>
  The amount to approve. Consider bid price Ã— duration for sessions.
</ParamField>

### Response

<ResponseField name="success" type="boolean">
  Whether the approval was successful
</ResponseField>

<ResponseField name="transaction_hash" type="string">
  Blockchain transaction hash
</ResponseField>

<ResponseField name="amount" type="string">
  Approved amount
</ResponseField>

<RequestExample>
```bash cURL
curl --request POST \
  --url 'https://api.mor.org/api/v1/session/approve?amount=1000' \
  --header 'Authorization: Bearer sk-YOUR_API_KEY'
```

```javascript JavaScript
const response = await fetch(
  'https://api.mor.org/api/v1/session/approve?amount=1000',
  {
    method: 'POST',
    headers: {
      'Authorization': 'Bearer sk-YOUR_API_KEY'
    }
  }
);

const approval = await response.json();
```

```python Python
import requests

response = requests.post(
    'https://api.mor.org/api/v1/session/approve',
    params={'amount': 1000},
    headers={'Authorization': 'Bearer sk-YOUR_API_KEY'}
)

approval = response.json()
```
</RequestExample>

<ResponseExample>
```json 200 Response
{
  "success": true,
  "transaction_hash": "0xabcdef1234567890fedcba0987654321",
  "amount": "1000"
}
```

```json 422 Validation Error
{
  "detail": [
    {
      "loc": ["query", "amount"],
      "msg": "Field required",
      "type": "missing"
    }
  ]
}
```
</ResponseExample>

<Info>
  **Calculating approval amount**: 
  
  1. Get the bid price from `/api/v1/models/ratedbids?model_id=0x...`
  2. Decide on session duration (e.g., 3600 seconds)
  3. Calculate: `amount = bid_price * session_duration`
  4. Add a buffer for safety: `amount = amount * 1.1`
</Info>

<Warning>
  This operation requires you to have a private key registered. Use the `/api/v1/auth/private-key` endpoint to store your encrypted private key first.
</Warning>


---
title: "Create Bid Session"
api: "POST /api/v1/session/bidsession"
description: "Create a session with a provider using a bid ID"
---

Create a session with a provider using a bid ID and associate it with the API key.

This endpoint creates a session and automatically associates it with the API key used for authentication. Each API key can have at most one active session at a time.

### Headers

<ParamField header="Authorization" type="string" required>
  API key in format: `Bearer sk-xxxxxx`
</ParamField>

### Query Parameters

<ParamField query="bid_id" type="string" required>
  The blockchain ID (hex) of the bid to create a session for, e.g., `0x1234...`
</ParamField>

### Body

<ParamField body="sessionDuration" type="integer" default={3600}>
  Duration of the session in seconds
</ParamField>

<ParamField body="directPayment" type="boolean" default={false}>
  Whether to use direct payment instead of allowance
</ParamField>

<ParamField body="failover" type="boolean" default={false}>
  Whether to enable automatic failover to another provider
</ParamField>

### Response

<ResponseField name="session_id" type="string">
  Unique identifier for the created session
</ResponseField>

<ResponseField name="provider" type="string">
  Provider address
</ResponseField>

<ResponseField name="bid_id" type="string">
  Bid identifier used
</ResponseField>

<ResponseField name="duration" type="integer">
  Session duration in seconds
</ResponseField>

<ResponseField name="cost" type="string">
  Total cost for the session
</ResponseField>

<RequestExample>
```bash cURL
curl --request POST \
  --url 'https://api.dev.mor.org/api/v1/session/bidsession?bid_id=0x1234567890abcdef' \
  --header 'Authorization: Bearer sk-YOUR_API_KEY' \
  --header 'Content-Type: application/json' \
  --data '{
    "sessionDuration": 3600,
    "directPayment": false,
    "failover": false
  }'
```

```javascript JavaScript
const response = await fetch(
  'https://api.dev.mor.org/api/v1/session/bidsession?bid_id=0x1234567890abcdef',
  {
    method: 'POST',
    headers: {
      'Authorization': 'Bearer sk-YOUR_API_KEY',
      'Content-Type': 'application/json'
    },
    body: JSON.stringify({
      sessionDuration: 3600,
      directPayment: false,
      failover: false
    })
  }
);

const session = await response.json();
```

```python Python
import requests

response = requests.post(
    'https://api.dev.mor.org/api/v1/session/bidsession',
    params={'bid_id': '0x1234567890abcdef'},
    headers={
        'Authorization': 'Bearer sk-YOUR_API_KEY',
        'Content-Type': 'application/json'
    },
    json={
        'sessionDuration': 3600,
        'directPayment': False,
        'failover': False
    }
)

session = response.json()
```
</RequestExample>

<ResponseExample>
```json 200 Response
{
  "session_id": "0xabcdef1234567890",
  "provider": "0x9876543210fedcba",
  "bid_id": "0x1234567890abcdef",
  "duration": 3600,
  "cost": "0.05"
}
```

```json 422 Validation Error
{
  "detail": [
    {
      "loc": ["query", "bid_id"],
      "msg": "Field required",
      "type": "missing"
    }
  ]
}
```
</ResponseExample>

<Warning>
  Before creating a session, ensure you have approved sufficient MOR tokens using the `/api/v1/session/approve` endpoint. The required amount is calculated as: `bid_price * session_duration`.
</Warning>

<Note>
  Each API key can only have one active session at a time. Creating a new session will close any existing session associated with the API key.
</Note>

